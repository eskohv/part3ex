{"version":3,"sources":["components/Filter.js","components/PersonForm.js","components/Persons.js","services/server.js","components/Notification.js","App.js","index.js"],"names":["Filter","filter","handler","value","onChange","PersonForm","addPerson","nameHandler","numberHandler","numberValue","nameValue","onSubmit","type","Persons","personsToShow","handle","map","person","key","id","name","number","onClick","baseUrl","newObject","axios","post","then","response","data","get","delete","Notification","message","style","className","App","useState","persons","setPersons","newName","setNewName","newNumber","setNewNumber","setFilter","notification","setNotification","setStyle","useEffect","serverService","length","toUpperCase","includes","event","console","log","target","preventDefault","returnedPerson","concat","setTimeout","catch","error","window","confirm","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.f8239837.chunk.js","sourcesContent":["import React from 'react'\n\nconst Filter = ({filter, handler}) =>(\n        <div>\n            filter shown with: <input value={filter} onChange={handler}/>\n        </div>\n    )\n\n\nexport default Filter","import React from \"react\";\n\nconst PersonForm = ({addPerson,nameHandler,numberHandler,numberValue,nameValue}) =>{\n    return (\n        <div>\n            <form onSubmit={addPerson}>\n                <div>\n                    name: <input value={nameValue} onChange={nameHandler}/>\n                    <br/>\n                    number: <input value={numberValue} onChange={numberHandler}/>\n                </div>\n                <div>\n                    <button type=\"submit\">add</button>\n                </div>\n            </form>\n        </div>\n    )\n}\n\nexport default PersonForm","import React from \"react\";\n\nconst Persons = ({personsToShow,handle}) => {\n    return (\n        <div>\n            <ul>\n                {personsToShow.map((person) =>\n                    <p\n                        key={person.id}>{person.name} {person.number}\n                        <button onClick={ () => handle(person)}>Delete</button>\n                    </p>\n                )}\n            </ul>\n        </div>\n    )\n}\n\nexport default Persons","import axios from 'axios'\nconst baseUrl = '/api/persons'\n\n\nconst getAll = () => {\n    const request = axios.get(baseUrl)\n    return request.then(response => response.data)\n}\n\nconst create = (newObject) => {\n    const request = axios.post(baseUrl, newObject)\n    return request.then(response => response.data)\n}\n\nconst deletePerson = (id) => {\n    const request = axios.delete(`${baseUrl}/${id}`)\n    return request.then(response => response.data)\n}\n\nconst update = (id, newObject) =>{\n    const request = axios.put(`${baseUrl}/${id}`, newObject)\n    return request.then(response => response.data)\n}\nexport default {create, getAll, deletePerson, update}","import React from 'react'\n\nconst Notification = ({ message,style }) => {\n    if (message === null) {\n        return null\n    }\n\n    return (\n        <div className={style ? \"notification\" : \"error\"}>\n            {message}\n        </div>\n    )\n}\n\nexport default Notification","import React, { useState, useEffect } from 'react'\nimport Filter from \"./components/Filter\";\nimport PersonForm from \"./components/PersonForm\";\nimport Persons from \"./components/Persons\";\nimport serverService from \"./services/server.js\"\nimport \"./index.css\"\nimport Notification from \"./components/Notification\";\n\nconst App = () => {\n\n    const [ persons, setPersons ] = useState([])\n    const [ newName, setNewName ] = useState('')\n    const [ newNumber, setNewNumber] = useState('')\n    const [ filter, setFilter] = useState('')\n    const [ notification, setNotification] = useState(null)\n    const [ style, setStyle] = useState(true)\n\n    useEffect(() => {\n        serverService\n            .getAll()\n            .then(response => {\n                setPersons(response)\n            })\n    }, [])\n\n    const handleNameChange = (event) => {\n        console.log(event.target.value)\n        setNewName(event.target.value)\n    }\n\n    const handleNumberChange = (event) => {\n        console.log(event.target.value)\n        setNewNumber(event.target.value)\n    }\n\n    const handleFilterChange = (event) => {\n        console.log(event.target.value)\n        setFilter(event.target.value)\n    }\n\n    const personsToShow = (filter.length === 0)\n        ? persons\n        : persons.filter(person => ((person.name).toUpperCase()).includes(filter.toUpperCase()))\n\n    const updatePerson = (event) => {\n        event.preventDefault()\n        const personObject = {\n            name: newName,\n            number: newNumber,\n        }\n        const person = persons.find(person => person.name === personObject.name)\n\n        serverService\n            .update(person.id,personObject)\n            .then(returnedPerson => {\n                console.log(\"trying to update\")\n                setPersons(persons.concat(returnedPerson))\n                setNewName('')\n                setNewNumber('')\n                setStyle(true)\n                setNotification(`${returnedPerson.name} was modified`)\n                setTimeout(() => {\n                    setNotification(null)\n                },5000)\n            })\n            .catch(error => {\n                setStyle(false)\n                setNotification(`${error.response.data.message}`)\n                console.log(error.response.data.message)\n                setTimeout(() => {\n                    setNotification(null)\n                },5000)\n                console.log(error)\n            })\n    }\n\n    const addPerson = (event) => {\n        event.preventDefault()\n        const personObject = {\n            name: newName,\n            number: newNumber,\n        }\n        serverService\n            .create(personObject)\n            .then(returnedPerson => {\n                setPersons(persons.concat(returnedPerson))\n                setNewName('')\n                setNewNumber('')\n                setStyle(true)\n                setNotification(`${returnedPerson.name} was added to the phone book`)\n                setTimeout(() => {\n                    setNotification(null)\n                },5000)\n            })\n            .catch(error => {\n                setStyle(false)\n                setNotification(`${error.response.data.message}`)\n                console.log(error.response.data.message)\n                setTimeout(() => {\n                    setNotification(null)\n                },5000)\n                console.log(error)\n            })\n    }\n\n    const handleDelete = (person) =>{\n        console.log(\"deleting \" + person.id)\n        if(window.confirm(`Are you sure you want to delete ${person.name} ?`)) {\n            serverService\n                .deletePerson(person.id)\n                .then(() => {\n                    serverService\n                        .getAll()\n                        .then(response => {\n                            setPersons(response)\n                        }).catch(error => {\n                            setNotification(`Could not retrieve data`)\n                    })\n                }).catch(error => {\n                    setStyle(false)\n                    setNotification(`Information of ${person.name} has already been removed from the server`)\n                serverService\n                    .getAll()\n                    .then(response => {\n                        setPersons(response)\n                    })\n                })\n        }\n    }\n    return (\n        <div>\n            <h2>Phonebook</h2>\n            <Notification message={notification} style={style}/>\n            <Filter handler={handleFilterChange} filter={filter}/>\n            <h3>Add a new entry</h3>\n\n            <PersonForm addPerson={addPerson}\n                        nameValue={newName}\n                        nameHandler={handleNameChange}\n                        numberValue={newNumber}\n                        numberHandler={handleNumberChange}\n            />\n            <h2>Numbers</h2>\n            <Persons personsToShow={personsToShow} persons={persons} handle={handleDelete}/>\n        </div>\n\n    )\n}\n\nexport default App","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\n\n\nReactDOM.render(<App />, document.getElementById('root'))\n"],"sourceRoot":""}